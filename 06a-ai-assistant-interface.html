<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½åŠ©æ‰‹ç•Œé¢ - AI Assistant Interface</title>
    <!-- å¼•å…¥ ECharts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <style>
        /* å…¨å±€è®¾è®¡ç³»ç»Ÿ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* æ™ºèƒ½åŠ©æ‰‹ä¸“å±é…è‰² - ä¼ è¾¾æ™ºèƒ½å’Œå‹å¥½ */
            --ai-primary: #6366F1;      /* æ™ºæ…§ç´«è“ */
            --ai-secondary: #8B5CF6;    /* è¾…åŠ©ç´« */
            --ai-accent: #0EA5E9;       /* ç§‘æŠ€è“ */
            --ai-success: #10B981;      /* æˆåŠŸç»¿ */
            --ai-warning: #F59E0B;      /* è­¦å‘Šæ©™ */
            --ai-danger: #EF4444;       /* å±é™©çº¢ */
            --ai-info: #06B6D4;         /* ä¿¡æ¯é’ */
            
            /* ä¸­æ€§è‰²é˜¶ */
            --gray-900: #111827;
            --gray-800: #1F2937;
            --gray-700: #374151;
            --gray-600: #4B5563;
            --gray-500: #6B7280;
            --gray-400: #9CA3AF;
            --gray-300: #D1D5DB;
            --gray-200: #E5E7EB;
            --gray-100: #F3F4F6;
            --gray-50: #F9FAFB;
            --white: #FFFFFF;
            
            /* æ™ºèƒ½æ¸å˜æ•ˆæœ */
            --gradient-ai: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            min-height: 100vh;
            color: var(--gray-900);
        }

        /* ä¸»å®¹å™¨å¸ƒå±€ */
        .ai-container {
            display: flex;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
        }

        /* å·¦ä¾§èŠå¤©åŒºåŸŸ */
        .chat-section {
            width: 400px;
            background: white;
            border-right: 1px solid var(--gray-200);
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
        }

        /* èŠå¤©å¤´éƒ¨ */
        .chat-header {
            background: var(--gradient-ai);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ai-avatar {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .ai-status {
            flex: 1;
        }

        .ai-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .ai-state {
            font-size: 12px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        /* èŠå¤©æ¶ˆæ¯åŒº */
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--gray-50);
        }

        .message {
            margin-bottom: 16px;
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
        }

        .message.ai .message-content {
            background: white;
            color: var(--gray-800);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .message.user .message-content {
            background: var(--ai-primary);
            color: white;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .message.ai .message-avatar {
            background: var(--gradient-ai);
            color: white;
        }

        .message.user .message-avatar {
            background: var(--gray-200);
        }

        /* å¿«é€Ÿæ“ä½œå»ºè®® */
        .quick-actions {
            padding: 12px 20px;
            background: white;
            border-top: 1px solid var(--gray-200);
        }

        .quick-action-title {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 8px;
        }

        .quick-action-chips {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .action-chip {
            padding: 6px 12px;
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            border-radius: 16px;
            font-size: 12px;
            color: var(--gray-700);
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-chip:hover {
            background: var(--ai-primary);
            color: white;
            border-color: var(--ai-primary);
            transform: translateY(-1px);
        }

        /* è¾“å…¥åŒºåŸŸ */
        .chat-input {
            padding: 16px 20px;
            background: white;
            border-top: 1px solid var(--gray-200);
        }

        .input-container {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        .chat-textarea {
            width: 100%;
            min-height: 40px;
            max-height: 120px;
            padding: 10px 40px 10px 12px;
            border: 1px solid var(--gray-300);
            border-radius: 20px;
            resize: none;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            outline: none;
            transition: border-color 0.2s;
        }

        .chat-textarea:focus {
            border-color: var(--ai-primary);
        }

        .input-actions {
            position: absolute;
            right: 8px;
            bottom: 8px;
            display: flex;
            gap: 4px;
        }

        .input-btn {
            width: 28px;
            height: 28px;
            border: none;
            background: transparent;
            color: var(--gray-400);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .input-btn:hover {
            background: var(--gray-100);
            color: var(--ai-primary);
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: var(--gradient-ai);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

        .send-btn:hover {
            transform: scale(1.05);
        }

        .send-btn:active {
            transform: scale(0.95);
        }

        /* å³ä¾§ä¸»å†…å®¹åŒº */
        .main-section {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            background: var(--gray-50);
        }

        /* é¡¶éƒ¨æŒ‡æ ‡å¡ç‰‡ */
        .metrics-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-ai);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .metric-title {
            font-size: 14px;
            color: var(--gray-600);
        }

        .metric-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .metric-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 8px;
        }

        .metric-change {
            font-size: 12px;
            color: var(--gray-500);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive {
            color: var(--ai-success);
        }

        .metric-change.negative {
            color: var(--ai-danger);
        }

        /* æ•°æ®æ´å¯ŸåŒºåŸŸ */
        .insights-section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-900);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 6px 12px;
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            font-size: 12px;
            color: var(--gray-700);
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: var(--ai-primary);
            color: white;
            border-color: var(--ai-primary);
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            height: 300px;
            margin-bottom: 20px;
        }

        /* æ´å¯Ÿåˆ—è¡¨ */
        .insights-list {
            display: grid;
            gap: 12px;
        }

        .insight-item {
            padding: 16px;
            background: var(--gray-50);
            border-radius: 8px;
            border-left: 4px solid var(--ai-primary);
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }

        .insight-icon {
            width: 32px;
            height: 32px;
            background: var(--gradient-ai);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .insight-content {
            flex: 1;
        }

        .insight-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }

        .insight-desc {
            font-size: 13px;
            color: var(--gray-600);
            line-height: 1.5;
        }

        .insight-action {
            padding: 6px 12px;
            background: var(--ai-primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .insight-action:hover {
            transform: translateY(-1px);
        }

        /* ä¼˜åŒ–å»ºè®®ç½‘æ ¼ */
        .suggestions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .suggestion-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--gray-200);
            transition: all 0.3s;
        }

        .suggestion-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .suggestion-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .suggestion-priority {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .priority-high {
            background: rgba(239, 68, 68, 0.1);
            color: var(--ai-danger);
        }

        .priority-medium {
            background: rgba(245, 158, 11, 0.1);
            color: var(--ai-warning);
        }

        .priority-low {
            background: rgba(16, 185, 129, 0.1);
            color: var(--ai-success);
        }

        .suggestion-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 8px;
        }

        .suggestion-desc {
            font-size: 14px;
            color: var(--gray-600);
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .suggestion-impact {
            display: flex;
            gap: 16px;
            padding-top: 12px;
            border-top: 1px solid var(--gray-200);
        }

        .impact-item {
            flex: 1;
        }

        .impact-label {
            font-size: 11px;
            color: var(--gray-500);
            margin-bottom: 4px;
        }

        .impact-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-900);
        }

        /* å·¥ä½œæµæ¨è */
        .workflow-section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .workflow-list {
            display: grid;
            gap: 12px;
        }

        .workflow-item {
            padding: 16px;
            background: var(--gray-50);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .workflow-item:hover {
            background: var(--ai-primary);
            color: white;
        }

        .workflow-icon {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .workflow-info {
            flex: 1;
        }

        .workflow-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .workflow-desc {
            font-size: 12px;
            opacity: 0.8;
        }

        .workflow-arrow {
            color: var(--gray-400);
        }

        .workflow-item:hover .workflow-arrow {
            color: white;
        }

        /* å¼‚å¸¸è¯Šæ–­é¢æ¿ */
        .diagnostic-panel {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 320px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            transform: translateY(calc(100% + 24px));
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .diagnostic-panel.show {
            transform: translateY(0);
        }

        .diagnostic-header {
            padding: 16px 20px;
            background: var(--gradient-ai);
            color: white;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .diagnostic-title {
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .diagnostic-close {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .diagnostic-content {
            padding: 16px 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .diagnostic-item {
            padding: 12px;
            background: var(--gray-50);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .diagnostic-level {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .level-error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--ai-danger);
        }

        .level-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--ai-warning);
        }

        .diagnostic-message {
            font-size: 13px;
            color: var(--gray-700);
            margin-bottom: 4px;
        }

        .diagnostic-solution {
            font-size: 12px;
            color: var(--gray-500);
        }

        /* æµ®åŠ¨åŠ©æ‰‹æŒ‰é’® */
        .floating-assistant {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: var(--gradient-ai);
            border-radius: 50%;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            transition: transform 0.3s;
            z-index: 999;
        }

        .floating-assistant:hover {
            transform: scale(1.1);
        }

        .floating-assistant.active {
            background: var(--ai-danger);
            animation: shake 0.5s;
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .chat-section {
                position: fixed;
                left: -400px;
                z-index: 1001;
                height: 100vh;
                transition: left 0.3s;
            }
            
            .chat-section.open {
                left: 0;
            }
            
            .main-section {
                padding: 16px;
            }
            
            .suggestions-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="ai-container">
        <!-- å·¦ä¾§èŠå¤©ç•Œé¢ -->
        <div class="chat-section" id="chatSection">
            <!-- èŠå¤©å¤´éƒ¨ -->
            <div class="chat-header">
                <div class="ai-avatar">ğŸ¤–</div>
                <div class="ai-status">
                    <div class="ai-name">GEOæ™ºèƒ½åŠ©æ‰‹</div>
                    <div class="ai-state">
                        <span class="status-dot"></span>
                        <span>åœ¨çº¿ â€¢ éšæ—¶ä¸ºæ‚¨æœåŠ¡</span>
                    </div>
                </div>
            </div>

            <!-- èŠå¤©æ¶ˆæ¯åŒº -->
            <div class="chat-messages" id="chatMessages">
                <div class="message ai">
                    <div class="message-avatar">ğŸ¤–</div>
                    <div class="message-content">
                        ä½ å¥½ï¼æˆ‘æ˜¯GEOæ™ºèƒ½åŠ©æ‰‹ï¼Œæˆ‘å¯ä»¥å¸®åŠ©æ‚¨ï¼š
                        <br><br>
                        ğŸ“Š åˆ†ææ•°æ®æ´å¯Ÿ<br>
                        ğŸš€ ä¼˜åŒ–å†…å®¹ç­–ç•¥<br>
                        ğŸ”§ è¯Šæ–­ç³»ç»Ÿé—®é¢˜<br>
                        ğŸ“ æ‰§è¡Œæ‰¹é‡ä»»åŠ¡<br>
                        <br>
                        è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ
                    </div>
                </div>
            </div>

            <!-- å¿«é€Ÿæ“ä½œå»ºè®® -->
            <div class="quick-actions">
                <div class="quick-action-title">å¿«é€Ÿæ“ä½œ</div>
                <div class="quick-action-chips">
                    <div class="action-chip" onclick="quickAction('æŸ¥çœ‹ä»Šæ—¥æ•°æ®')">æŸ¥çœ‹ä»Šæ—¥æ•°æ®</div>
                    <div class="action-chip" onclick="quickAction('åˆ†æAIå¼•ç”¨ç‡')">åˆ†æAIå¼•ç”¨ç‡</div>
                    <div class="action-chip" onclick="quickAction('ä¼˜åŒ–å»ºè®®')">ä¼˜åŒ–å»ºè®®</div>
                    <div class="action-chip" onclick="quickAction('åˆ›å»ºå†…å®¹')">åˆ›å»ºå†…å®¹</div>
                </div>
            </div>

            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="chat-input">
                <div class="input-container">
                    <div class="input-wrapper">
                        <textarea 
                            class="chat-textarea" 
                            id="chatInput" 
                            placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–æŒ‡ä»¤..."
                            onkeydown="handleKeyPress(event)"
                        ></textarea>
                        <div class="input-actions">
                            <button class="input-btn" title="ä¸Šä¼ æ–‡ä»¶">ğŸ“</button>
                            <button class="input-btn" title="è¯­éŸ³è¾“å…¥">ğŸ¤</button>
                        </div>
                    </div>
                    <button class="send-btn" onclick="sendMessage()">â¤</button>
                </div>
            </div>
        </div>

        <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
        <div class="main-section">
            <!-- é¡¶éƒ¨æŒ‡æ ‡å¡ç‰‡ -->
            <div class="metrics-row">
                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">ä»Šæ—¥ä»»åŠ¡å®Œæˆç‡</div>
                        <div class="metric-icon" style="background: rgba(99, 102, 241, 0.1); color: var(--ai-primary);">ğŸ“ˆ</div>
                    </div>
                    <div class="metric-value">87.5%</div>
                    <div class="metric-change positive">
                        <span>â†‘</span>
                        <span>æ¯”æ˜¨æ—¥æå‡ 12.3%</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">AIå¼•ç”¨ç‡</div>
                        <div class="metric-icon" style="background: rgba(139, 92, 246, 0.1); color: var(--ai-secondary);">ğŸ¯</div>
                    </div>
                    <div class="metric-value">42.8%</div>
                    <div class="metric-change positive">
                        <span>â†‘</span>
                        <span>é«˜äºè¡Œä¸šå¹³å‡ 15%</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">å†…å®¹è½¬åŒ–ç‡</div>
                        <div class="metric-icon" style="background: rgba(16, 185, 129, 0.1); color: var(--ai-success);">ğŸ’</div>
                    </div>
                    <div class="metric-value">3.24%</div>
                    <div class="metric-change negative">
                        <span>â†“</span>
                        <span>éœ€è¦ä¼˜åŒ– Action Card</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <div class="metric-title">ç³»ç»Ÿå¥åº·åº¦</div>
                        <div class="metric-icon" style="background: rgba(6, 182, 212, 0.1); color: var(--ai-info);">â¤ï¸</div>
                    </div>
                    <div class="metric-value">98.5%</div>
                    <div class="metric-change positive">
                        <span>âœ“</span>
                        <span>æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ</span>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®æ´å¯ŸåŒºåŸŸ -->
            <div class="insights-section">
                <div class="section-header">
                    <div class="section-title">
                        <span>ğŸ“Š</span>
                        <span>å®æ—¶æ•°æ®æ´å¯Ÿ</span>
                    </div>
                    <div class="section-actions">
                        <button class="action-btn" onclick="refreshInsights()">åˆ·æ–°</button>
                        <button class="action-btn" onclick="exportInsights()">å¯¼å‡º</button>
                    </div>
                </div>

                <!-- å›¾è¡¨å®¹å™¨ -->
                <div class="chart-container" id="insightsChart"></div>

                <!-- æ´å¯Ÿåˆ—è¡¨ -->
                <div class="insights-list">
                    <div class="insight-item">
                        <div class="insight-icon">ğŸ’¡</div>
                        <div class="insight-content">
                            <div class="insight-title">Redditæ¸ é“è¡¨ç°çªå‡º</div>
                            <div class="insight-desc">è¿‡å»7å¤©ï¼ŒRedditæ¸ é“çš„å†…å®¹äº’åŠ¨ç‡æå‡äº†45%ï¼Œå»ºè®®å¢åŠ è¯¥æ¸ é“çš„å†…å®¹æŠ•æ”¾é¢‘ç‡ã€‚</div>
                        </div>
                        <button class="insight-action" onclick="applyInsight('reddit')">ç«‹å³ä¼˜åŒ–</button>
                    </div>

                    <div class="insight-item">
                        <div class="insight-icon">âš¡</div>
                        <div class="insight-content">
                            <div class="insight-title">FAQèµ„äº§éœ€è¦æ›´æ–°</div>
                            <div class="insight-desc">æ£€æµ‹åˆ°12ä¸ªFAQèµ„äº§è¶…è¿‡30å¤©æœªæ›´æ–°ï¼Œå¯èƒ½å½±å“AIå¼•æ“çš„å¼•ç”¨å‡†ç¡®æ€§ã€‚</div>
                        </div>
                        <button class="insight-action" onclick="applyInsight('faq')">æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>

                    <div class="insight-item">
                        <div class="insight-icon">ğŸ¯</div>
                        <div class="insight-content">
                            <div class="insight-title">è½¬åŒ–æ¼æ–—ä¼˜åŒ–æœºä¼š</div>
                            <div class="insight-desc">åˆ†æå‘ç°ä»"ç‚¹å‡»"åˆ°"å¡«å†™"çš„è½¬åŒ–ç‡ä»…ä¸º12%ï¼Œä½äºé¢„æœŸï¼Œå»ºè®®ç®€åŒ–è¡¨å•è®¾è®¡ã€‚</div>
                        </div>
                        <button class="insight-action" onclick="applyInsight('funnel')">å¼€å§‹ä¼˜åŒ–</button>
                    </div>
                </div>
            </div>

            <!-- ä¼˜åŒ–å»ºè®®ç½‘æ ¼ -->
            <div class="suggestions-grid">
                <div class="suggestion-card">
                    <div class="suggestion-header">
                        <span class="suggestion-priority priority-high">é«˜ä¼˜å…ˆçº§</span>
                    </div>
                    <div class="suggestion-title">ä¼˜åŒ–LinkedInå‘å¸ƒæ—¶é—´</div>
                    <div class="suggestion-desc">
                        åŸºäºè¿‡å»30å¤©çš„æ•°æ®åˆ†æï¼Œå°†LinkedInå‘å¸ƒæ—¶é—´è°ƒæ•´åˆ°å‘¨äºŒè‡³å‘¨å››çš„ä¸Šåˆ10-11ç‚¹ï¼Œé¢„è®¡å¯æå‡25%çš„äº’åŠ¨ç‡ã€‚
                    </div>
                    <div class="suggestion-impact">
                        <div class="impact-item">
                            <div class="impact-label">é¢„æœŸæå‡</div>
                            <div class="impact-value">+25%</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">å®æ–½éš¾åº¦</div>
                            <div class="impact-value">ç®€å•</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">æ‰€éœ€æ—¶é—´</div>
                            <div class="impact-value">5åˆ†é’Ÿ</div>
                        </div>
                    </div>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-header">
                        <span class="suggestion-priority priority-medium">ä¸­ä¼˜å…ˆçº§</span>
                    </div>
                    <div class="suggestion-title">å¢åŠ è§†é¢‘å†…å®¹æ¯”ä¾‹</div>
                    <div class="suggestion-desc">
                        å½“å‰è§†é¢‘å†…å®¹ä»…å 15%ï¼Œè€Œè§†é¢‘å†…å®¹çš„å¹³å‡äº’åŠ¨ç‡æ˜¯æ–‡å­—å†…å®¹çš„3.2å€ã€‚å»ºè®®å°†è§†é¢‘å†…å®¹æ¯”ä¾‹æå‡è‡³30%ã€‚
                    </div>
                    <div class="suggestion-impact">
                        <div class="impact-item">
                            <div class="impact-label">é¢„æœŸæå‡</div>
                            <div class="impact-value">+180%</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">å®æ–½éš¾åº¦</div>
                            <div class="impact-value">ä¸­ç­‰</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">æ‰€éœ€æ—¶é—´</div>
                            <div class="impact-value">2-3å¤©</div>
                        </div>
                    </div>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-header">
                        <span class="suggestion-priority priority-low">ä½ä¼˜å…ˆçº§</span>
                    </div>
                    <div class="suggestion-title">ä¼˜åŒ–æ ‡ç­¾ä½¿ç”¨ç­–ç•¥</div>
                    <div class="suggestion-desc">
                        éƒ¨åˆ†å†…å®¹çš„æ ‡ç­¾ä½¿ç”¨ä¸å¤Ÿç²¾å‡†ï¼Œå»ºè®®ä½¿ç”¨AIè‡ªåŠ¨æ ‡ç­¾æ¨èåŠŸèƒ½ï¼Œæé«˜å†…å®¹çš„å¯å‘ç°æ€§ã€‚
                    </div>
                    <div class="suggestion-impact">
                        <div class="impact-item">
                            <div class="impact-label">é¢„æœŸæå‡</div>
                            <div class="impact-value">+8%</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">å®æ–½éš¾åº¦</div>
                            <div class="impact-value">ç®€å•</div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-label">æ‰€éœ€æ—¶é—´</div>
                            <div class="impact-value">30åˆ†é’Ÿ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å·¥ä½œæµæ¨è -->
            <div class="workflow-section">
                <div class="section-header">
                    <div class="section-title">
                        <span>ğŸ”„</span>
                        <span>æ¨èå·¥ä½œæµç¨‹</span>
                    </div>
                </div>

                <div class="workflow-list">
                    <div class="workflow-item" onclick="startWorkflow('content-optimization')">
                        <div class="workflow-icon">ğŸ“</div>
                        <div class="workflow-info">
                            <div class="workflow-name">å†…å®¹ä¼˜åŒ–å·¥ä½œæµ</div>
                            <div class="workflow-desc">åˆ†æç°æœ‰å†…å®¹è¡¨ç°ï¼Œè‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–å»ºè®®å¹¶æ‰§è¡Œ</div>
                        </div>
                        <div class="workflow-arrow">â†’</div>
                    </div>

                    <div class="workflow-item" onclick="startWorkflow('ai-citation')">
                        <div class="workflow-icon">ğŸ¤–</div>
                        <div class="workflow-info">
                            <div class="workflow-name">AIå¼•ç”¨ç‡æå‡æµç¨‹</div>
                            <div class="workflow-desc">æ£€æµ‹å¹¶ä¼˜åŒ–å†…å®¹ä»¥æé«˜åœ¨AIå¼•æ“ä¸­çš„å¼•ç”¨ç‡</div>
                        </div>
                        <div class="workflow-arrow">â†’</div>
                    </div>

                    <div class="workflow-item" onclick="startWorkflow('channel-expansion')">
                        <div class="workflow-icon">ğŸš€</div>
                        <div class="workflow-info">
                            <div class="workflow-name">æ¸ é“æ‰©å±•æµç¨‹</div>
                            <div class="workflow-desc">è¯„ä¼°æ–°æ¸ é“æœºä¼šå¹¶è‡ªåŠ¨é…ç½®å‘å¸ƒç­–ç•¥</div>
                        </div>
                        <div class="workflow-arrow">â†’</div>
                    </div>

                    <div class="workflow-item" onclick="startWorkflow('weekly-report')">
                        <div class="workflow-icon">ğŸ“Š</div>
                        <div class="workflow-info">
                            <div class="workflow-name">å‘¨æŠ¥è‡ªåŠ¨ç”Ÿæˆ</div>
                            <div class="workflow-desc">æ±‡æ€»æœ¬å‘¨æ•°æ®å¹¶ç”Ÿæˆç®¡ç†å±‚æŠ¥å‘Š</div>
                        </div>
                        <div class="workflow-arrow">â†’</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¼‚å¸¸è¯Šæ–­é¢æ¿ -->
    <div class="diagnostic-panel" id="diagnosticPanel">
        <div class="diagnostic-header">
            <div class="diagnostic-title">
                <span>ğŸ”</span>
                <span>ç³»ç»Ÿè¯Šæ–­</span>
            </div>
            <button class="diagnostic-close" onclick="closeDiagnostic()">Ã—</button>
        </div>
        <div class="diagnostic-content">
            <div class="diagnostic-item">
                <div class="diagnostic-level level-warning">è­¦å‘Š</div>
                <div class="diagnostic-message">LinkedIn APIé…é¢ä½¿ç”¨å·²è¾¾75%</div>
                <div class="diagnostic-solution">å»ºè®®ï¼šè°ƒæ•´å‘å¸ƒé¢‘ç‡æˆ–ç”³è¯·æ›´é«˜é…é¢</div>
            </div>
            <div class="diagnostic-item">
                <div class="diagnostic-level level-error">é”™è¯¯</div>
                <div class="diagnostic-message">3ä¸ªRedditå¸–å­å‘å¸ƒå¤±è´¥</div>
                <div class="diagnostic-solution">å»ºè®®ï¼šæ£€æŸ¥è´¦å·æƒé™å¹¶é‡æ–°å‘å¸ƒ</div>
            </div>
        </div>
    </div>

    <!-- æµ®åŠ¨åŠ©æ‰‹æŒ‰é’® -->
    <div class="floating-assistant" id="floatingBtn" onclick="toggleDiagnostic()">
        <span id="assistantIcon">ğŸ’¬</span>
    </div>

    <script>
        // åˆå§‹åŒ–å›¾è¡¨
        let insightsChart;

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            initializeAssistant();
            checkSystemStatus();
        });

        // åˆå§‹åŒ–æ•°æ®æ´å¯Ÿå›¾è¡¨
        function initializeCharts() {
            const chartDom = document.getElementById('insightsChart');
            insightsChart = echarts.init(chartDom);

            const option = {
                title: {
                    text: '7æ—¥å†…å®¹è¡¨ç°è¶‹åŠ¿',
                    textStyle: {
                        fontSize: 14,
                        fontWeight: 'normal',
                        color: '#374151'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                legend: {
                    data: ['AIå¼•ç”¨ç‡', 'å†…å®¹äº’åŠ¨ç‡', 'è½¬åŒ–ç‡'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    axisLine: {
                        lineStyle: {
                            color: '#E5E7EB'
                        }
                    },
                    axisLabel: {
                        color: '#6B7280'
                    }
                },
                yAxis: {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}%',
                        color: '#6B7280'
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#E5E7EB'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: '#F3F4F6'
                        }
                    }
                },
                series: [
                    {
                        name: 'AIå¼•ç”¨ç‡',
                        type: 'line',
                        smooth: true,
                        data: [32, 35, 38, 41, 42, 40, 43],
                        itemStyle: {
                            color: '#6366F1'
                        },
                        areaStyle: {
                            color: {
                                type: 'linear',
                                x: 0,
                                y: 0,
                                x2: 0,
                                y2: 1,
                                colorStops: [{
                                    offset: 0, color: 'rgba(99, 102, 241, 0.3)'
                                }, {
                                    offset: 1, color: 'rgba(99, 102, 241, 0.05)'
                                }]
                            }
                        }
                    },
                    {
                        name: 'å†…å®¹äº’åŠ¨ç‡',
                        type: 'line',
                        smooth: true,
                        data: [28, 30, 33, 35, 34, 38, 41],
                        itemStyle: {
                            color: '#8B5CF6'
                        },
                        areaStyle: {
                            color: {
                                type: 'linear',
                                x: 0,
                                y: 0,
                                x2: 0,
                                y2: 1,
                                colorStops: [{
                                    offset: 0, color: 'rgba(139, 92, 246, 0.3)'
                                }, {
                                    offset: 1, color: 'rgba(139, 92, 246, 0.05)'
                                }]
                            }
                        }
                    },
                    {
                        name: 'è½¬åŒ–ç‡',
                        type: 'line',
                        smooth: true,
                        data: [2.8, 3.0, 2.9, 3.1, 3.2, 3.0, 3.24],
                        itemStyle: {
                            color: '#10B981'
                        },
                        areaStyle: {
                            color: {
                                type: 'linear',
                                x: 0,
                                y: 0,
                                x2: 0,
                                y2: 1,
                                colorStops: [{
                                    offset: 0, color: 'rgba(16, 185, 129, 0.3)'
                                }, {
                                    offset: 1, color: 'rgba(16, 185, 129, 0.05)'
                                }]
                            }
                        }
                    }
                ]
            };

            insightsChart.setOption(option);

            // å“åº”å¼è°ƒæ•´
            window.addEventListener('resize', function() {
                insightsChart.resize();
            });
        }

        // åˆå§‹åŒ–æ™ºèƒ½åŠ©æ‰‹
        function initializeAssistant() {
            // æ¨¡æ‹ŸåŠ©æ‰‹åˆå§‹åŒ–
            console.log('AI Assistant initialized');
            
            // å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„æ´å¯Ÿ
            setInterval(checkForNewInsights, 30000);
        }

        // æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
        function checkSystemStatus() {
            // æ¨¡æ‹Ÿç³»ç»ŸçŠ¶æ€æ£€æŸ¥
            const hasIssues = Math.random() > 0.7;
            
            if (hasIssues) {
                const floatingBtn = document.getElementById('floatingBtn');
                const icon = document.getElementById('assistantIcon');
                floatingBtn.classList.add('active');
                icon.textContent = 'âš ï¸';
                
                // æ˜¾ç¤ºè¯Šæ–­é¢æ¿
                setTimeout(() => {
                    showDiagnostic();
                }, 2000);
            }
        }

        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addMessage(message, 'user');
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            input.value = '';
            input.style.height = 'auto';
            
            // æ¨¡æ‹ŸAIå“åº”
            setTimeout(() => {
                const aiResponse = generateAIResponse(message);
                addMessage(aiResponse, 'ai');
            }, 1000);
        }

        // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©çª—å£
        function addMessage(content, type) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = type === 'ai' ? 'ğŸ¤–' : 'ğŸ‘¤';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.innerHTML = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ç”ŸæˆAIå“åº”
        function generateAIResponse(message) {
            const responses = {
                'æŸ¥çœ‹ä»Šæ—¥æ•°æ®': 'ä»Šæ—¥å…³é”®æ•°æ®å¦‚ä¸‹ï¼š<br><br>ğŸ“Š å†…å®¹å‘å¸ƒï¼š15ç¯‡<br>ğŸ‘¥ æ–°å¢äº’åŠ¨ï¼š234æ¬¡<br>ğŸ¯ è½¬åŒ–ç”¨æˆ·ï¼š12äºº<br>ğŸ“ˆ AIå¼•ç”¨ç‡ï¼š42.8%<br><br>æ•´ä½“è¡¨ç°è‰¯å¥½ï¼Œå»ºè®®å…³æ³¨è½¬åŒ–ç‡ä¼˜åŒ–ã€‚',
                'åˆ†æAIå¼•ç”¨ç‡': 'æ­£åœ¨åˆ†ææ‚¨çš„å†…å®¹åœ¨AIå¼•æ“ä¸­çš„è¡¨ç°...<br><br>âœ… ChatGPTå¼•ç”¨ç‡ï¼š45%<br>âœ… Perplexityå¼•ç”¨ç‡ï¼š38%<br>âš ï¸ Google SGEå¼•ç”¨ç‡ï¼š28%<br><br>å»ºè®®ä¼˜åŒ–å†…å®¹ç»“æ„ï¼Œå¢åŠ æ•°æ®æ”¯æ’‘å’Œä¸“ä¸šæœ¯è¯­ä½¿ç”¨ã€‚',
                'ä¼˜åŒ–å»ºè®®': 'åŸºäºå½“å‰æ•°æ®åˆ†æï¼Œæˆ‘ä¸ºæ‚¨å‡†å¤‡äº†3æ¡ä¼˜åŒ–å»ºè®®ï¼š<br><br>1. ğŸ• è°ƒæ•´å‘å¸ƒæ—¶é—´åˆ°ä¸Šåˆ10-11ç‚¹<br>2. ğŸ“¹ å¢åŠ è§†é¢‘å†…å®¹æ¯”ä¾‹è‡³30%<br>3. ğŸ·ï¸ ä¼˜åŒ–æ ‡ç­¾ä½¿ç”¨ç­–ç•¥<br><br>é¢„è®¡å¯æå‡25%çš„æ•´ä½“æ•ˆæœã€‚',
                'åˆ›å»ºå†…å®¹': 'æˆ‘å¯ä»¥å¸®æ‚¨åˆ›å»ºå†…å®¹ã€‚è¯·å‘Šè¯‰æˆ‘ï¼š<br><br>1. å†…å®¹ç±»å‹ï¼ˆFAQ/æ•™ç¨‹/å¯¹æ¯”ç­‰ï¼‰<br>2. ç›®æ ‡æ¸ é“<br>3. æ ¸å¿ƒä¿¡æ¯ç‚¹<br><br>æˆ‘ä¼šä¸ºæ‚¨ç”Ÿæˆä¼˜åŒ–åçš„å†…å®¹æ¨¡æ¿ã€‚'
            };
            
            return responses[message] || `æˆ‘æ­£åœ¨åˆ†ææ‚¨çš„è¯·æ±‚ï¼š"${message}"ã€‚<br><br>ç³»ç»Ÿæ­£åœ¨å¤„ç†ä¸­ï¼Œæˆ‘ä¼šå°½å¿«ä¸ºæ‚¨æä¾›è¯¦ç»†çš„åˆ†æç»“æœå’Œæ“ä½œå»ºè®®ã€‚`;
        }

        // å¿«é€Ÿæ“ä½œ
        function quickAction(action) {
            document.getElementById('chatInput').value = action;
            sendMessage();
        }

        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // åˆ·æ–°æ´å¯Ÿ
        function refreshInsights() {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            const chartDom = document.getElementById('insightsChart');
            chartDom.style.opacity = '0.5';
            
            setTimeout(() => {
                // æ›´æ–°å›¾è¡¨æ•°æ®
                const newData = {
                    ai: [33, 36, 39, 42, 43, 41, 44],
                    engagement: [29, 31, 34, 36, 35, 39, 42],
                    conversion: [2.9, 3.1, 3.0, 3.2, 3.3, 3.1, 3.35]
                };
                
                insightsChart.setOption({
                    series: [
                        { data: newData.ai },
                        { data: newData.engagement },
                        { data: newData.conversion }
                    ]
                });
                
                chartDom.style.opacity = '1';
                
                // æ˜¾ç¤ºé€šçŸ¥
                addMessage('æ•°æ®å·²åˆ·æ–°ï¼å‘ç°2ä¸ªæ–°çš„ä¼˜åŒ–æœºä¼šã€‚', 'ai');
            }, 1000);
        }

        // å¯¼å‡ºæ´å¯Ÿ
        function exportInsights() {
            addMessage('æ­£åœ¨ç”Ÿæˆæ´å¯ŸæŠ¥å‘Š...æŠ¥å‘Šå°†åŒ…å«è¿‡å»7å¤©çš„å®Œæ•´æ•°æ®åˆ†æã€‚', 'ai');
            
            setTimeout(() => {
                addMessage('æŠ¥å‘Šå·²ç”Ÿæˆï¼<br><br>ğŸ“„ æ–‡ä»¶åï¼šGEO_Insights_Report_2025.pdf<br>ğŸ“Š åŒ…å«å†…å®¹ï¼šæ•°æ®è¶‹åŠ¿ã€ä¼˜åŒ–å»ºè®®ã€é¢„æµ‹åˆ†æ<br><br>æŠ¥å‘Šå·²å‘é€åˆ°æ‚¨çš„é‚®ç®±ã€‚', 'ai');
            }, 2000);
        }

        // åº”ç”¨æ´å¯Ÿå»ºè®®
        function applyInsight(type) {
            const actions = {
                'reddit': 'æ­£åœ¨ä¸ºRedditæ¸ é“è°ƒæ•´å‘å¸ƒç­–ç•¥...<br><br>âœ… å‘å¸ƒé¢‘ç‡ï¼šæå‡è‡³æ¯æ—¥3æ¬¡<br>âœ… æœ€ä½³æ—¶é—´ï¼š8-10 AM EST<br>âœ… å†…å®¹ç±»å‹ï¼šå¢åŠ è®¨è®ºç±»å†…å®¹<br><br>é¢„è®¡ä¸‹å‘¨ç”Ÿæ•ˆã€‚',
                'faq': 'æ­£åœ¨æ‰«æéœ€è¦æ›´æ–°çš„FAQèµ„äº§...<br><br>å‘ç°12ä¸ªè¿‡æœŸFAQï¼š<br>â€¢ äº§å“å®šä»·ï¼ˆ45å¤©æœªæ›´æ–°ï¼‰<br>â€¢ åŠŸèƒ½è¯´æ˜ï¼ˆ38å¤©æœªæ›´æ–°ï¼‰<br>â€¢ ä½¿ç”¨æ•™ç¨‹ï¼ˆ32å¤©æœªæ›´æ–°ï¼‰<br><br>æ˜¯å¦ç«‹å³æ‰¹é‡æ›´æ–°ï¼Ÿ',
                'funnel': 'æ­£åœ¨ä¼˜åŒ–è½¬åŒ–æ¼æ–—...<br><br>ğŸ“ ç®€åŒ–è¡¨å•å­—æ®µï¼šä»8ä¸ªå‡å°‘åˆ°4ä¸ª<br>ğŸ¯ ä¼˜åŒ–CTAæ–‡æ¡ˆï¼šä½¿ç”¨æ›´æ˜ç¡®çš„è¡ŒåŠ¨æŒ‡å¼•<br>âš¡ æå‡åŠ è½½é€Ÿåº¦ï¼šä¼˜åŒ–é¡µé¢æ€§èƒ½<br><br>ä¼˜åŒ–æ–¹æ¡ˆå·²å‡†å¤‡å°±ç»ªã€‚'
            };
            
            addMessage(actions[type] || 'æ­£åœ¨å¤„ç†æ‚¨çš„ä¼˜åŒ–è¯·æ±‚...', 'ai');
        }

        // å¼€å§‹å·¥ä½œæµ
        function startWorkflow(workflow) {
            const workflows = {
                'content-optimization': 'å†…å®¹ä¼˜åŒ–å·¥ä½œæµå·²å¯åŠ¨ï¼<br><br>æ­¥éª¤1ï¼šæ‰«ææ‰€æœ‰å†…å®¹èµ„äº§ âœ…<br>æ­¥éª¤2ï¼šåˆ†æè¡¨ç°æ•°æ® ğŸ”„<br>æ­¥éª¤3ï¼šç”Ÿæˆä¼˜åŒ–å»ºè®®<br>æ­¥éª¤4ï¼šæ‰§è¡Œä¼˜åŒ–æ“ä½œ<br><br>é¢„è®¡å®Œæˆæ—¶é—´ï¼š15åˆ†é’Ÿ',
                'ai-citation': 'AIå¼•ç”¨ç‡æå‡æµç¨‹å·²å¯åŠ¨ï¼<br><br>ğŸ” æ­£åœ¨åˆ†æå†…å®¹ç»“æ„...<br>ğŸ“Š å¯¹æ¯”è¡Œä¸šæœ€ä½³å®è·µ...<br>âœï¸ ç”Ÿæˆä¼˜åŒ–æ–¹æ¡ˆ...<br><br>é¢„è®¡å¯æå‡å¼•ç”¨ç‡15-20%ã€‚',
                'channel-expansion': 'æ¸ é“æ‰©å±•è¯„ä¼°å·²å¼€å§‹ï¼<br><br>å‘ç°3ä¸ªæ½œåŠ›æ¸ é“ï¼š<br>â€¢ TikTokï¼ˆé¢„ä¼°ROI: 3.2xï¼‰<br>â€¢ Pinterestï¼ˆé¢„ä¼°ROI: 2.8xï¼‰<br>â€¢ Discordï¼ˆé¢„ä¼°ROI: 2.5xï¼‰<br><br>æ˜¯å¦æŸ¥çœ‹è¯¦ç»†åˆ†æï¼Ÿ',
                'weekly-report': 'å‘¨æŠ¥ç”Ÿæˆä»»åŠ¡å·²åˆ›å»ºï¼<br><br>ğŸ“Š æ•°æ®æ”¶é›†èŒƒå›´ï¼š1æœˆ6æ—¥-1æœˆ12æ—¥<br>ğŸ“ˆ åŒ…å«ç»´åº¦ï¼š6ä¸ªæ ¸å¿ƒæŒ‡æ ‡<br>ğŸ‘¥ å‘é€å¯¹è±¡ï¼šç®¡ç†å±‚å›¢é˜Ÿ<br><br>æŠ¥å‘Šå°†åœ¨10åˆ†é’Ÿå†…ç”Ÿæˆã€‚'
            };
            
            addMessage(workflows[workflow] || 'å·¥ä½œæµæ­£åœ¨åˆå§‹åŒ–...', 'ai');
        }

        // æ˜¾ç¤º/éšè—è¯Šæ–­é¢æ¿
        function toggleDiagnostic() {
            const panel = document.getElementById('diagnosticPanel');
            panel.classList.toggle('show');
            
            const floatingBtn = document.getElementById('floatingBtn');
            const icon = document.getElementById('assistantIcon');
            
            if (panel.classList.contains('show')) {
                floatingBtn.classList.remove('active');
                icon.textContent = 'ğŸ’¬';
            }
        }

        function showDiagnostic() {
            const panel = document.getElementById('diagnosticPanel');
            panel.classList.add('show');
        }

        function closeDiagnostic() {
            const panel = document.getElementById('diagnosticPanel');
            panel.classList.remove('show');
            
            const floatingBtn = document.getElementById('floatingBtn');
            const icon = document.getElementById('assistantIcon');
            floatingBtn.classList.remove('active');
            icon.textContent = 'ğŸ’¬';
        }

        // æ£€æŸ¥æ–°çš„æ´å¯Ÿ
        function checkForNewInsights() {
            // éšæœºè§¦å‘æ–°æ´å¯Ÿæé†’
            if (Math.random() > 0.8) {
                const floatingBtn = document.getElementById('floatingBtn');
                const icon = document.getElementById('assistantIcon');
                
                floatingBtn.classList.add('active');
                icon.textContent = 'ğŸ’¡';
                
                // æ·»åŠ æ–°æ¶ˆæ¯
                addMessage('ğŸ¯ å‘ç°æ–°çš„ä¼˜åŒ–æœºä¼šï¼<br><br>åˆšåˆšæ£€æµ‹åˆ°YouTubeæ¸ é“çš„è§‚çœ‹å®Œæˆç‡æå‡äº†23%ï¼Œè¿™å¯èƒ½æ˜¯due toæœ€è¿‘ä¼˜åŒ–çš„è§†é¢‘å¼€å¤´ã€‚å»ºè®®å°†è¿™ä¸ªç­–ç•¥åº”ç”¨åˆ°å…¶ä»–è§†é¢‘å†…å®¹ä¸­ã€‚', 'ai');
                
                setTimeout(() => {
                    floatingBtn.classList.remove('active');
                    icon.textContent = 'ğŸ’¬';
                }, 5000);
            }
        }

        // è‡ªåŠ¨è°ƒæ•´è¾“å…¥æ¡†é«˜åº¦
        document.getElementById('chatInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
    </script>
</body>
</html>